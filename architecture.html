<p><html>
    <head>
        <link href="pyg.css" type="text/css" rel="stylesheet" />
        <title>Target Grades - Architecture</title>
    </head>
    <body></p>
<h1>Target Grades</h1>
<h2>Architecture</h2>
<p><div class="highlight"><pre><a name="l-1"></a><span class="nb">cd</span> /home/mark/public_html/moodle2/admin/report/targetgrades
<a name="l-2"></a>tree -I docs 
</pre></div></p>
<p><pre class="highlight">.
├── alisdata_form.php
├── alisdata.php
├── cli
│   ├── alis2009_pdf2csv.sh
│   ├── alis2010_pdf2csv.sh
│   └── alis_pdf2csv.sh
├── db
│   ├── access.php
│   └── install.xml
├── distribute.php
├── index.php
├── lang
│   └── en
│       └── report_targetgrades.php
├── lib.php
├── settingsform.php
├── settings.php
├── styles.css
└── version.php</p>
<p>4 directories, 15 files
</pre></p>
<h3>/</h3>
<p>This folder lives at $CFG-&gt;dirroot/admin/report/targetgrades, and contains the majority of the plugin files</p>
<h4>alisdata_form.php</h4>
<p>Defines the form used to upload the CSV files contianing the ALIS statistics</p>
<h4>alisdata.php</h4>
<p>Displays the form defined in alisdata_form.php. Once statistics have been uploaded, lists the statistics along with flags relating to data quality issues, and allows them to be linked to courses.</p>
<h4>lib.php</h4>
<p>This is the plugin's main library. The majority of functions, classes and constants used by this plugin live in here.  Stuff in this file lives under the reporttargetgrades <a href="http://uk.php.net/manual/en/language.namespaces.php">namespace</a>.</p>
<h4>settingsform.php</h4>
<p>Defines, displays and processes the settings form.  Most plugin types automatically pick up on fields defined in settings.php and create a form, but report plugins don't seem to do this.  Because this is a bit of a hack, the form is defined and displayed in the same page, rather than the class taking up space in lib.php</p>
<h4>settings.php</h4>
<p>Very simply defines the admin module for this plugin, and adds it to the Settings block under the Grades menu.</p>
<h4>version.php</h4>
<p>Just defines the plugin version number.</p>
<h3>/cli/</h3>
<p>Contains bash scripts used to convert PDFs from ALIS to CSV files that can be uploaded to alisdata.php</p>
<h4>alis2009_pdf2csv.sh</h4>
<p>Legacy script for converting ALIS statistics from 2009 from PDF to CSV.</p>
<h4>alis2011_pdf2csv.sh</h4>
<p>Legacy script for converting ALIS statistics from 2010 from PDF to CSV.</p>
<h4>alis_pdf2csv.sh</h4>
<p>Converts the current PDF from ALIS to a CSV file containing the statistics required to calculate target grades.  Uses pdf2text to extract the tables to text, then uses sed to clean the file and turn it into a nicely delimited flatfile.</p>
<h3>/db/</h3>
<p>Contains Moodle standard database files</p>
<h4>access.php</h4>
<p>Defines the report/targetgrades:view and report/targetgrades:distribute capabilities</p>
<h4>install.xml</h4>
<p>Defines the <a href="database.html">database schema</a></p>
<h3>/lang/</h3>
<p>Contains Moodle standard language files. Currently only contains English tranlastion.</p>
<p></body>
</html></p>